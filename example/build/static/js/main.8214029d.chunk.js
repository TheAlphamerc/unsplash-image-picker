(this["webpackJsonpunsplash-image-picker-example"]=this["webpackJsonpunsplash-image-picker-example"]||[]).push([[0],{13:function(e,t,a){},14:function(e,t,a){"use strict";a.r(t);a(8);var n=a(0),r=a.n(n),l=a(4),c=a.n(l),o=a(2),i=(a(13),a(1)),s=a.n(i),u=a(5);var m=["children","className","width","padding","active","setActive"];function d(e){var t=e.children,a=e.width,n=void 0===a?540:a,l=e.padding,c=void 0===l||l,o=e.active,i=void 0!==o&&o,u=e.setActive,d=void 0===u?function(e){}:u,v=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,m);return r.a.createElement("div",Object.assign({onClick:function(e){d(!i)},onKeyUp:function(e){"Escape"===e.key&&d(!1)},className:s()("Modal",{active:i})},v),r.a.createElement(h,{onClick:function(e){i&&e.stopPropagation()},padding:c,className:"overflow-hidden h-full",style:{maxWidth:n,width:"100%"}},t))}function h(e){var t=e.children,a=e.padding,n=void 0===a||a,l=e.style,c=void 0===l?{}:l,o=e.onClick,i=void 0===o?function(e){}:o;return r.a.createElement("div",{onClick:i,style:c,className:s()("Card rounded shadow bg-white mx-auto my-auto",{"p-4":n})},t)}function v(e){var t=e.photo,a=e.onPhotoSelect,n=void 0===a?function(e){}:a;return r.a.createElement("div",{className:"group relative h-60 sm:h-44 md:h-32 w-full place-items-center object-cover cursor-pointer border theme-border-default",key:t.id,onClick:function(){return n(t)}},r.a.createElement("img",{className:"card-img place-items-center w-full object-cover h-full rounded",src:t.urls.thumb,alt:t.alt_description}),r.a.createElement("div",{className:"absolute top-0 right-0 left-0 bottom-0 invisible group-hover:visible group-hover:bg-black/20",style:{color:"white"}},r.a.createElement("div",{className:"flex space-x-1 items-center place-content-center justify-between m-2"},r.a.createElement("div",{className:"flex items-center space-x-1"},r.a.createElement("img",{className:"rounded-full h-6 w-6",src:t.user.profile_image.small,alt:t.user.username}),r.a.createElement("h6",{className:"text-xs word-breaker"},t.user.name)))))}function p(e){var t=e.isLoading,a=void 0!==t&&t,n=e.isLoadingMore,l=void 0!==n&&n,c=e.photoList,o=e.total,i=e.onPhotoSelect,s=e.loadMore,u=r.a.useMemo((function(){return r.a.createRef()}),[]);return r.a.createElement("div",{className:"Body"},a?r.a.createElement("div",{className:"flex items-center justify-center h-96"},r.a.createElement(f,null)):r.a.createElement("div",null,Array.isArray(c)&&c.length>0&&r.a.createElement("div",{className:"PhotoList grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-2 overflow-y-auto p-4 pb-12",style:{maxHeight:"700px"},ref:u,onScroll:function(){if(u.current){var e=u.current,t=e.scrollTop;e.scrollHeight-(t+e.clientHeight)<20&&s()}}},c.map((function(e){return r.a.createElement(v,{key:e.id,photo:e,onPhotoSelect:i})})),l&&r.a.createElement("div",{className:"sm:col-span-2 md:col-span-3 my-4 flex justify-center"},r.a.createElement(f,null))),Array.isArray(c)&&0===c.length&&0===o&&r.a.createElement("div",{className:"flex items-center justify-center h-96"},"No photos found"),!o&&r.a.createElement("div",{className:"flex items-center justify-center h-96 text-gray-600"})))}function f(){return r.a.createElement("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-blue",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},r.a.createElement("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.a.createElement("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"}))}function g(e){var t=e.setQuery,a=e.query,n=e.onSearch;return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("form",{onSubmit:function(e){try{return e.preventDefault(),n(a),Promise.resolve()}catch(e){return Promise.reject(e)}},className:"flex items-center space-x-2"},r.a.createElement("label",{className:" w-full"},r.a.createElement("input",{className:"placeholder:italic placeholder:theme-text-subtitle-1  w-full border theme-border-default rounded-md py-2 pl-3 pr-3  focus:outline-none focus:theme-border-primary  focus:ring-1 sm:text-sm",placeholder:"Search for an image",type:"text",name:"search",value:a,onChange:function(e){return t(e.target.value)}})),r.a.createElement("span",null,r.a.createElement("button",{className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-md",type:"submit"},"Search")))))}function y(e){var t=e.unsplashAccessKey,a=e.initialPhotoSearchQuery,n=void 0===a?"":a,l=e.onPhotoSelect,c=void 0===l?function(e){}:l,o=r.a.useState([]),i=o[0],s=o[1],m=r.a.useState(),d=m[0],h=m[1],v=r.a.useState(""),f=v[0],y=v[1],b=r.a.useState(!1),E=b[0],N=b[1],x=r.a.useState(!1),w=x[0],S=x[1],P=r.a.useState(1),k=P[0],A=P[1],j=Object(u.a)({accessKey:t});r.a.useEffect((function(){""!==n&&(y(n),C(1,n))}),[]);var C=function(e,t,a){void 0===a&&(a=!1),E||w||(1===e?N(!0):S(!0),A(e),j.search.getPhotos({page:e,perPage:30,query:t,orientation:"landscape"}).then((function(e){var t,n=null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.results;if(n){var r=n;a||(r=[].concat(i,n)),s(r),h(e.response.total)}N(!1),S(!1)})))};return r.a.createElement("div",{className:"ImagePicker items-center bg-white rounded"},r.a.createElement("div",{className:"bg-white "},r.a.createElement("div",{className:"Picker relative h-full rounded"},r.a.createElement("div",{className:"px-4 pt-4 font-bold text-lg bg-white "}," ","Search image"),r.a.createElement("div",{className:"shadow p-4 bg-white"},r.a.createElement("div",{className:""},r.a.createElement(g,{onSearch:function(e){s([]),C(1,e,!0)},query:f,setQuery:y}))),r.a.createElement(p,{total:d,photoList:i,isLoading:E,isLoadingMore:w,loadMore:function(){C(k+1,f)},onPhotoSelect:function(e){try{try{c(e)}catch(t){console.log(t)}return Promise.resolve()}catch(a){return Promise.reject(a)}}}))))}var b=function(e){var t=e.unsplashAccessKey,a=e.active,n=void 0!==a&&a,l=e.initialPhotoSearchQuery,c=void 0===l?"":l,o=e.setActive,i=void 0===o?function(e){}:o,s=e.onPhotoSelect,u=void 0===s?function(e){}:s,m=e.modalWidth,h=void 0===m?840:m,v=e.modalClassName,p=void 0===v?"":v;return n?r.a.createElement("div",{className:""},r.a.createElement(d,{active:n,setActive:i,width:h+"px",padding:!1,className:p},r.a.createElement(y,{unsplashAccessKey:t,initialPhotoSearchQuery:c,onPhotoSelect:u}))):null};function E(e){var t=e.photo;return console.log(t),r.a.createElement("img",{src:t.urls.regular,alt:t.alt_description,className:"sm:h-72 sm:w-full lg:h-52 object-cover rounded border  shadow-md"})}var N=function(){var e=r.a.useState(!1),t=Object(o.a)(e,2),a=t[0],n=t[1],l=r.a.useState([]),c=Object(o.a)(l,2),i=c[0],s=c[1];return console.log("dTUBUnPASfrsKOWYzVpAwvkr9Ks2MuY3i5YCvSqAxWQ"),r.a.createElement("div",{className:"App bg-gray-50"},r.a.createElement("button",{className:"button bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded p-42 h-12",onClick:function(){n(!0)}},"Search image"),r.a.createElement(b,{unsplashAccessKey:"dTUBUnPASfrsKOWYzVpAwvkr9Ks2MuY3i5YCvSqAxWQ",active:a,setActive:n,initialPhotoSearchQuery:"",onPhotoSelect:function(e){var t=null!==i&&void 0!==i?i:[];t.push(e),s(t),n(!1)}}),r.a.createElement("div",{className:"Gallery"},null===i||void 0===i?void 0:i.map((function(e,t){return r.a.createElement(E,{photo:e,key:t})}))))};c.a.render(r.a.createElement(N,null),document.getElementById("root"))},7:function(e,t,a){e.exports=a(14)},8:function(e,t,a){}},[[7,1,2]]]);
//# sourceMappingURL=main.8214029d.chunk.js.map